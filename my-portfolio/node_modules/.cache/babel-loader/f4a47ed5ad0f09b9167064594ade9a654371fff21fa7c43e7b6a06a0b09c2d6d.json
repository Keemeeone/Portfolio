{"ast":null,"code":"var _jsxFileName = \"/Users/heewonkim/Desktop/Portfolio/my-portfolio/src/components/AIchat/AIchat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Container, Paper, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = \"your-api-key\"; // API 키를 여기에 추가하세요\n\nconst systemMessage = {\n  \"role\": \"system\",\n  \"content\": \"Explain things like you're talking to a software professional with 2 years of experience.\"\n};\nfunction AIchat() {\n  _s();\n  const [messages, setMessages] = useState([{\n    message: \"Hello, I'm ChatGPT! Ask me anything!\",\n    sentTime: \"just now\",\n    sender: \"ChatGPT\"\n  }]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [userInput, setUserInput] = useState('');\n  const handleSend = async () => {\n    const newMessage = {\n      message: userInput,\n      direction: 'outgoing',\n      sender: \"user\"\n    };\n    const newMessages = [...messages, newMessage];\n    setMessages(newMessages);\n    setIsTyping(true);\n    await processMessageToChatGPT(newMessages);\n    setUserInput(''); // Clear the input field after sending the message\n  };\n  async function processMessageToChatGPT(chatMessages) {\n    let apiMessages = chatMessages.map(messageObject => {\n      let role = messageObject.sender === \"ChatGPT\" ? \"assistant\" : \"user\";\n      return {\n        role: role,\n        content: messageObject.message\n      };\n    });\n    const apiRequestBody = {\n      \"model\": \"gpt-3.5-turbo\",\n      \"messages\": [systemMessage, ...apiMessages]\n    };\n    try {\n      const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": \"Bearer \" + API_KEY,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(apiRequestBody)\n      });\n      const data = await response.json();\n      setMessages([...chatMessages, {\n        message: data.choices[0].message.content,\n        sender: \"ChatGPT\"\n      }]);\n    } catch (error) {\n      console.error(\"Error processing message to ChatGPT:\", error);\n    } finally {\n      setIsTyping(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        style: {\n          padding: \"20px\",\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: \"Chat with ChatGPT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: messages.map((message, i) => /*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              marginBottom: \"8px\"\n            },\n            children: [message.sender, \": \", message.message]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          fullWidth: true,\n          id: \"message\",\n          label: \"Type message here\",\n          name: \"message\",\n          value: userInput,\n          onChange: e => setUserInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          onClick: handleSend,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), isTyping && /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            marginTop: \"8px\"\n          },\n          children: \"ChatGPT is typing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(AIchat, \"rhHMsGEpooLECoZDPIxUA9XGexE=\");\n_c = AIchat;\nexport default AIchat;\nvar _c;\n$RefreshReg$(_c, \"AIchat\");","map":{"version":3,"names":["React","useState","TextField","Button","Container","Paper","Typography","jsxDEV","_jsxDEV","API_KEY","systemMessage","AIchat","_s","messages","setMessages","message","sentTime","sender","isTyping","setIsTyping","userInput","setUserInput","handleSend","newMessage","direction","newMessages","processMessageToChatGPT","chatMessages","apiMessages","map","messageObject","role","content","apiRequestBody","response","fetch","method","headers","body","JSON","stringify","data","json","choices","error","console","className","children","component","maxWidth","elevation","style","padding","marginTop","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","i","marginBottom","margin","fullWidth","id","label","name","value","onChange","e","target","color","onClick","_c","$RefreshReg$"],"sources":["/Users/heewonkim/Desktop/Portfolio/my-portfolio/src/components/AIchat/AIchat.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { TextField, Button, Container, Paper, Typography } from '@mui/material';\n\nconst API_KEY = \"your-api-key\"; // API 키를 여기에 추가하세요\n\nconst systemMessage = {\n  \"role\": \"system\",\n  \"content\": \"Explain things like you're talking to a software professional with 2 years of experience.\"\n};\n\nfunction AIchat() {\n  const [messages, setMessages] = useState([\n    {\n      message: \"Hello, I'm ChatGPT! Ask me anything!\",\n      sentTime: \"just now\",\n      sender: \"ChatGPT\"\n    }\n  ]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [userInput, setUserInput] = useState('');\n\n  const handleSend = async () => {\n    const newMessage = {\n      message: userInput,\n      direction: 'outgoing',\n      sender: \"user\"\n    };\n\n    const newMessages = [...messages, newMessage];\n    setMessages(newMessages);\n\n    setIsTyping(true);\n    await processMessageToChatGPT(newMessages);\n    setUserInput(''); // Clear the input field after sending the message\n  };\n\n  async function processMessageToChatGPT(chatMessages) {\n    let apiMessages = chatMessages.map((messageObject) => {\n      let role = (messageObject.sender === \"ChatGPT\") ? \"assistant\" : \"user\";\n      return { role: role, content: messageObject.message };\n    });\n\n    const apiRequestBody = {\n      \"model\": \"gpt-3.5-turbo\",\n      \"messages\": [\n        systemMessage,\n        ...apiMessages\n      ]\n    };\n\n    try {\n      const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": \"Bearer \" + API_KEY,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(apiRequestBody)\n      });\n\n      const data = await response.json();\n      setMessages([...chatMessages, {\n        message: data.choices[0].message.content,\n        sender: \"ChatGPT\"\n      }]);\n    } catch (error) {\n      console.error(\"Error processing message to ChatGPT:\", error);\n    } finally {\n      setIsTyping(false);\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Paper elevation={3} style={{ padding: \"20px\", marginTop: \"20px\" }}>\n          <Typography variant=\"h5\" gutterBottom>\n            Chat with ChatGPT\n          </Typography>\n          <div>\n            {messages.map((message, i) => (\n              <Typography key={i} style={{ marginBottom: \"8px\" }}>\n                {message.sender}: {message.message}\n              </Typography>\n            ))}\n          </div>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            fullWidth\n            id=\"message\"\n            label=\"Type message here\"\n            name=\"message\"\n            value={userInput}\n            onChange={(e) => setUserInput(e.target.value)}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            onClick={handleSend}\n          >\n            Send\n          </Button>\n          {isTyping && <Typography style={{ marginTop: \"8px\" }}>ChatGPT is typing...</Typography>}\n        </Paper>\n      </Container>\n    </div>\n  );\n}\n\nexport default AIchat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}