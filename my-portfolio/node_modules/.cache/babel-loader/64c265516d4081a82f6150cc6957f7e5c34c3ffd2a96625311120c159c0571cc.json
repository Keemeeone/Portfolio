{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import Header from\"../Header/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Scroll=_ref=>{let{components}=_ref;const[activeIndex,setActiveIndex]=useState(0);const[scrollPosition,setScrollPosition]=useState(0);const scrollRef=useRef();const handleScroll=()=>{const scrollTop=scrollRef.current.scrollTop;const componentHeight=scrollRef.current.clientHeight;const newIndex=Math.floor(scrollTop/componentHeight);setActiveIndex(newIndex);// 스크롤 위치 업데이트\nsetScrollPosition(scrollTop);};useEffect(()=>{const handleResize=()=>{const componentHeight=scrollRef.current.clientHeight;const newIndex=Math.floor(scrollRef.current.scrollTop/componentHeight);setActiveIndex(newIndex);};window.addEventListener(\"resize\",handleResize);return()=>{window.removeEventListener(\"resize\",handleResize);};},[]);const scrollToComponent=index=>{const componentHeight=scrollRef.current.clientHeight;scrollRef.current.scrollTo({top:index*componentHeight,behavior:\"smooth\"});};const updateSlideState=index=>{scrollToComponent(index);};return/*#__PURE__*/_jsxs(\"div\",{ref:scrollRef,onScroll:handleScroll,style:{height:\"100vh\",overflowY:\"scroll\",scrollBehavior:\"smooth\"},children:[/*#__PURE__*/_jsx(Header,{orientation:'vertical',length:components.length,currIdx:activeIndex,clickHandler:updateSlideState}),components.map((component,index)=>/*#__PURE__*/_jsx(\"div\",{style:{height:\"100vh\"},children:/*#__PURE__*/React.cloneElement(component,{isActive:index===activeIndex,scrollPosition})},index))]});};export default Scroll;","map":{"version":3,"names":["React","useState","useEffect","useRef","Header","jsx","_jsx","jsxs","_jsxs","Scroll","_ref","components","activeIndex","setActiveIndex","scrollPosition","setScrollPosition","scrollRef","handleScroll","scrollTop","current","componentHeight","clientHeight","newIndex","Math","floor","handleResize","window","addEventListener","removeEventListener","scrollToComponent","index","scrollTo","top","behavior","updateSlideState","ref","onScroll","style","height","overflowY","scrollBehavior","children","orientation","length","currIdx","clickHandler","map","component","cloneElement","isActive"],"sources":["/Users/heewonkim/Desktop/Portfolio/my-portfolio/src/components/Home/Slides.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Header from \"../Header/Header\";\n\nconst Scroll = ({ components }) => {\n    const [activeIndex, setActiveIndex] = useState(0);\n    const [scrollPosition, setScrollPosition] = useState(0);\n\n    const scrollRef = useRef();\n\n    const handleScroll = () => {\n        const scrollTop = scrollRef.current.scrollTop;\n        const componentHeight = scrollRef.current.clientHeight;\n\n        const newIndex = Math.floor(scrollTop / componentHeight);\n        setActiveIndex(newIndex);\n\n        // 스크롤 위치 업데이트\n        setScrollPosition(scrollTop);\n    };\n\n    useEffect(() => {\n        const handleResize = () => {\n            const componentHeight = scrollRef.current.clientHeight;\n            const newIndex = Math.floor(scrollRef.current.scrollTop / componentHeight);\n            setActiveIndex(newIndex);\n        };\n\n        window.addEventListener(\"resize\", handleResize);\n\n        return () => {\n            window.removeEventListener(\"resize\", handleResize);\n        };\n    }, []);\n\n    const scrollToComponent = (index) => {\n        const componentHeight = scrollRef.current.clientHeight;\n        scrollRef.current.scrollTo({\n            top: index * componentHeight,\n            behavior: \"smooth\",\n        });\n    };\n\n    const updateSlideState = (index) => {\n        scrollToComponent(index);\n    };\n\n    return (\n        <div\n            ref={scrollRef}\n            onScroll={handleScroll}\n            style={{\n                height: \"100vh\",\n                overflowY: \"scroll\",\n                scrollBehavior: \"smooth\",\n            }}\n        >\n            <Header\n                orientation={'vertical'}\n                length={components.length}\n                currIdx={activeIndex}\n                clickHandler={updateSlideState}\n            />\n            {components.map((component, index) => (\n                <div key={index} style={{ height: \"100vh\" }}>\n                    {React.cloneElement(component, { isActive: index === activeIndex, scrollPosition })}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Scroll;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACa,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAEvD,KAAM,CAAAe,SAAS,CAAGb,MAAM,CAAC,CAAC,CAE1B,KAAM,CAAAc,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,SAAS,CAAGF,SAAS,CAACG,OAAO,CAACD,SAAS,CAC7C,KAAM,CAAAE,eAAe,CAAGJ,SAAS,CAACG,OAAO,CAACE,YAAY,CAEtD,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACN,SAAS,CAAGE,eAAe,CAAC,CACxDP,cAAc,CAACS,QAAQ,CAAC,CAExB;AACAP,iBAAiB,CAACG,SAAS,CAAC,CAChC,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAuB,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAL,eAAe,CAAGJ,SAAS,CAACG,OAAO,CAACE,YAAY,CACtD,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACR,SAAS,CAACG,OAAO,CAACD,SAAS,CAAGE,eAAe,CAAC,CAC1EP,cAAc,CAACS,QAAQ,CAAC,CAC5B,CAAC,CAEDI,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CAE/C,MAAO,IAAM,CACTC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,CAAEH,YAAY,CAAC,CACtD,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,iBAAiB,CAAIC,KAAK,EAAK,CACjC,KAAM,CAAAV,eAAe,CAAGJ,SAAS,CAACG,OAAO,CAACE,YAAY,CACtDL,SAAS,CAACG,OAAO,CAACY,QAAQ,CAAC,CACvBC,GAAG,CAAEF,KAAK,CAAGV,eAAe,CAC5Ba,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIJ,KAAK,EAAK,CAChCD,iBAAiB,CAACC,KAAK,CAAC,CAC5B,CAAC,CAED,mBACItB,KAAA,QACI2B,GAAG,CAAEnB,SAAU,CACfoB,QAAQ,CAAEnB,YAAa,CACvBoB,KAAK,CAAE,CACHC,MAAM,CAAE,OAAO,CACfC,SAAS,CAAE,QAAQ,CACnBC,cAAc,CAAE,QACpB,CAAE,CAAAC,QAAA,eAEFnC,IAAA,CAACF,MAAM,EACHsC,WAAW,CAAE,UAAW,CACxBC,MAAM,CAAEhC,UAAU,CAACgC,MAAO,CAC1BC,OAAO,CAAEhC,WAAY,CACrBiC,YAAY,CAAEX,gBAAiB,CAClC,CAAC,CACDvB,UAAU,CAACmC,GAAG,CAAC,CAACC,SAAS,CAAEjB,KAAK,gBAC7BxB,IAAA,QAAiB+B,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAAG,QAAA,cACvCzC,KAAK,CAACgD,YAAY,CAACD,SAAS,CAAE,CAAEE,QAAQ,CAAEnB,KAAK,GAAKlB,WAAW,CAAEE,cAAe,CAAC,CAAC,EAD7EgB,KAEL,CACR,CAAC,EACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAArB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}