{"ast":null,"code":"// server.js\nimport OpenAI from 'openai';\nconst apiKey = process.env.OPENAI_API_KEY;\nif (!apiKey) {\n  throw new Error(\"The OPENAI_API_KEY environment variable is missing or empty.\");\n}\nconst openai = new OpenAI({\n  apiKey\n});\nasync function main() {\n  const stream = await openai.chat.completions.create({\n    model: 'gpt-4',\n    messages: [{\n      role: 'user',\n      content: 'Say this is a test'\n    }],\n    stream: true\n  });\n  for await (const chunk of stream) {\n    var _chunk$choices$, _chunk$choices$$delta;\n    process.stdout.write(((_chunk$choices$ = chunk.choices[0]) === null || _chunk$choices$ === void 0 ? void 0 : (_chunk$choices$$delta = _chunk$choices$.delta) === null || _chunk$choices$$delta === void 0 ? void 0 : _chunk$choices$$delta.content) || '');\n  }\n}\nmodule.exports = {\n  main\n};","map":{"version":3,"names":["OpenAI","apiKey","process","env","OPENAI_API_KEY","Error","openai","main","stream","chat","completions","create","model","messages","role","content","chunk","_chunk$choices$","_chunk$choices$$delta","stdout","write","choices","delta","module","exports"],"sources":["/Users/heewonkim/Desktop/Portfolio/my-portfolio/src/components/AIchat/server.js"],"sourcesContent":["// server.js\nimport OpenAI from 'openai';\n\nconst apiKey = process.env.OPENAI_API_KEY;\n\nif (!apiKey) {\n  throw new Error(\"The OPENAI_API_KEY environment variable is missing or empty.\");\n}\n\nconst openai = new OpenAI({ apiKey });\n\nasync function main() {\n  const stream = await openai.chat.completions.create({\n    model: 'gpt-4',\n    messages: [{ role: 'user', content: 'Say this is a test' }],\n    stream: true,\n  });\n  for await (const chunk of stream) {\n    process.stdout.write(chunk.choices[0]?.delta?.content || '');\n  }\n}\n\nmodule.exports = {\n  main,\n};\n"],"mappings":"AAAA;AACA,OAAOA,MAAM,MAAM,QAAQ;AAE3B,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,cAAc;AAEzC,IAAI,CAACH,MAAM,EAAE;EACX,MAAM,IAAII,KAAK,CAAC,8DAA8D,CAAC;AACjF;AAEA,MAAMC,MAAM,GAAG,IAAIN,MAAM,CAAC;EAAEC;AAAO,CAAC,CAAC;AAErC,eAAeM,IAAIA,CAAA,EAAG;EACpB,MAAMC,MAAM,GAAG,MAAMF,MAAM,CAACG,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;IAClDC,KAAK,EAAE,OAAO;IACdC,QAAQ,EAAE,CAAC;MAAEC,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAE;IAAqB,CAAC,CAAC;IAC3DP,MAAM,EAAE;EACV,CAAC,CAAC;EACF,WAAW,MAAMQ,KAAK,IAAIR,MAAM,EAAE;IAAA,IAAAS,eAAA,EAAAC,qBAAA;IAChChB,OAAO,CAACiB,MAAM,CAACC,KAAK,CAAC,EAAAH,eAAA,GAAAD,KAAK,CAACK,OAAO,CAAC,CAAC,CAAC,cAAAJ,eAAA,wBAAAC,qBAAA,GAAhBD,eAAA,CAAkBK,KAAK,cAAAJ,qBAAA,uBAAvBA,qBAAA,CAAyBH,OAAO,KAAI,EAAE,CAAC;EAC9D;AACF;AAEAQ,MAAM,CAACC,OAAO,GAAG;EACfjB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}