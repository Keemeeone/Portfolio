{"ast":null,"code":"import React,{useState,useEffect,useCallback,useRef}from'react';import{Box,Slide}from'@mui/material';import NavBar from'./Slides/NavBar';import Header from'../Header/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Slides=props=>{const{components}=props;const transSpeed=500;const[slideState,setSlideState]=useState({currentIdx:0,previousIdx:0,isSwitching:false});const containerRef=useRef(null);useEffect(()=>{setSlideState(prevState=>({...prevState,currentIdx:0,previousIdx:0}));},[components]);const updateSlideState=useCallback(newIdx=>{setSlideState(prevState=>({...prevState,previousIdx:prevState.currentIdx,isSwitching:true}));window.setTimeout(()=>{setSlideState(prevState=>({...prevState,isSwitching:false,currentIdx:newIdx}));},transSpeed);},[transSpeed]);const scrollTimeout=useRef(null);const acceptScroll=useRef(true);const deltaY=useRef(0);const resetScroll=()=>{scrollTimeout.current=undefined;acceptScroll.current=true;deltaY.current=0;};const handleScrollTimeout=()=>{if(deltaY.current>50&&slideState.currentIdx<components.length-1){updateSlideState(slideState.currentIdx+1);}else if(deltaY.current<-50&&slideState.currentIdx>0){updateSlideState(slideState.currentIdx-1);}window.setTimeout(resetScroll,40);};const handleScrollEvent=e=>{if(acceptScroll.current){if(scrollTimeout.current){clearTimeout(scrollTimeout.current);}scrollTimeout.current=window.setTimeout(handleScrollTimeout,40);if(e.type==='wheel'){deltaY.current+=e.deltaY;}else{var _e$targetTouches$;deltaY.current+=e.targetTouches[0].clientY-(((_e$targetTouches$=e.targetTouches[1])===null||_e$targetTouches$===void 0?void 0:_e$targetTouches$.clientY)||0);}}};const slideStyle={width:'100%',height:'100%',position:'fixed'};return/*#__PURE__*/_jsxs(Box,{ref:containerRef,sx:{overscrollBehavior:'none'},onWheel:handleScrollEvent,onTouchMove:handleScrollEvent,children:[/*#__PURE__*/_jsx(Header,{orientation:\"vertical\",length:components.length,currIdx:slideState.currentIdx,clickHandler:updateSlideState}),/*#__PURE__*/_jsx(NavBar,{orientation:\"vertical\",length:components.length,currIdx:slideState.currentIdx,clickHandler:updateSlideState}),/*#__PURE__*/_jsx(Slide,{direction:\"up\",in:!slideState.isSwitching,timeout:transSpeed,children:/*#__PURE__*/_jsx(Box,{sx:{...slideStyle,zIndex:2},children:components[slideState.currentIdx]})})]});};export default Slides;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Box","Slide","NavBar","Header","jsx","_jsx","jsxs","_jsxs","Slides","props","components","transSpeed","slideState","setSlideState","currentIdx","previousIdx","isSwitching","containerRef","prevState","updateSlideState","newIdx","window","setTimeout","scrollTimeout","acceptScroll","deltaY","resetScroll","current","undefined","handleScrollTimeout","length","handleScrollEvent","e","clearTimeout","type","_e$targetTouches$","targetTouches","clientY","slideStyle","width","height","position","ref","sx","overscrollBehavior","onWheel","onTouchMove","children","orientation","currIdx","clickHandler","direction","in","timeout","zIndex"],"sources":["/Users/heewonkim/Desktop/portfolio/my-portfolio/src/components/Home/Slides.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Box, Slide } from '@mui/material';\nimport NavBar from './Slides/NavBar';\nimport Header from '../Header/Header';\n\nconst Slides = (props) => {\n    const { components } = props;\n    const transSpeed = 500;\n\n    const [slideState, setSlideState] = useState({\n        currentIdx: 0,\n        previousIdx: 0,\n        isSwitching: false,\n    });\n\n    const containerRef = useRef(null);\n\n    useEffect(() => {\n        setSlideState((prevState) => ({\n            ...prevState,\n            currentIdx: 0,\n            previousIdx: 0,\n        }));\n    }, [components]);\n\n    const updateSlideState = useCallback(\n        (newIdx) => {\n            setSlideState((prevState) => ({\n                ...prevState,\n                previousIdx: prevState.currentIdx,\n                isSwitching: true,\n            }));\n\n            window.setTimeout(() => {\n                setSlideState((prevState) => ({\n                    ...prevState,\n                    isSwitching: false,\n                    currentIdx: newIdx,\n                }));\n            }, transSpeed);\n        },\n        [transSpeed]\n    );\n\n    const scrollTimeout = useRef(null);\n    const acceptScroll = useRef(true);\n    const deltaY = useRef(0);\n\n    const resetScroll = () => {\n        scrollTimeout.current = undefined;\n        acceptScroll.current = true;\n        deltaY.current = 0;\n    };\n\n    const handleScrollTimeout = () => {\n        if (deltaY.current > 50 && slideState.currentIdx < components.length - 1) {\n            updateSlideState(slideState.currentIdx + 1);\n        } else if (deltaY.current < -50 && slideState.currentIdx > 0) {\n            updateSlideState(slideState.currentIdx - 1);\n        }\n\n        window.setTimeout(resetScroll, 40);\n    };\n\n    const handleScrollEvent = (e) => {\n        if (acceptScroll.current) {\n            if (scrollTimeout.current) {\n                clearTimeout(scrollTimeout.current);\n            }\n            scrollTimeout.current = window.setTimeout(handleScrollTimeout, 40);\n\n            if (e.type === 'wheel') {\n                deltaY.current += e.deltaY;\n            } else {\n                deltaY.current += e.targetTouches[0].clientY - (e.targetTouches[1]?.clientY || 0);\n            }\n        }\n    };\n\n    const slideStyle = {\n        width: '100%',\n        height: '100%',\n        position: 'fixed',\n    };\n\n    return (\n        <Box\n            ref={containerRef}\n            sx={{ overscrollBehavior: 'none' }}\n            onWheel={handleScrollEvent}\n            onTouchMove={handleScrollEvent}\n        >\n            <Header orientation=\"vertical\"\n                length={components.length}\n                currIdx={slideState.currentIdx}\n                clickHandler={updateSlideState}\n            />\n            <NavBar\n                orientation=\"vertical\"\n                length={components.length}\n                currIdx={slideState.currentIdx}\n                clickHandler={updateSlideState}\n            />\n\n            <Slide direction=\"up\" in={!slideState.isSwitching} timeout={transSpeed}>\n                <Box sx={{ ...slideStyle, zIndex: 2 }}>\n                    {components[slideState.currentIdx]}\n                </Box>\n            </Slide>\n        </Box>\n    );\n};\n\nexport default Slides;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,CAAEC,MAAM,KAAQ,OAAO,CACvE,OAASC,GAAG,CAAEC,KAAK,KAAQ,eAAe,CAC1C,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,MAAM,CAAIC,KAAK,EAAK,CACtB,KAAM,CAAEC,UAAW,CAAC,CAAGD,KAAK,CAC5B,KAAM,CAAAE,UAAU,CAAG,GAAG,CAEtB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,CACzCkB,UAAU,CAAE,CAAC,CACbC,WAAW,CAAE,CAAC,CACdC,WAAW,CAAE,KACjB,CAAC,CAAC,CAEF,KAAM,CAAAC,YAAY,CAAGlB,MAAM,CAAC,IAAI,CAAC,CAEjCF,SAAS,CAAC,IAAM,CACZgB,aAAa,CAAEK,SAAS,GAAM,CAC1B,GAAGA,SAAS,CACZJ,UAAU,CAAE,CAAC,CACbC,WAAW,CAAE,CACjB,CAAC,CAAC,CAAC,CACP,CAAC,CAAE,CAACL,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAS,gBAAgB,CAAGrB,WAAW,CAC/BsB,MAAM,EAAK,CACRP,aAAa,CAAEK,SAAS,GAAM,CAC1B,GAAGA,SAAS,CACZH,WAAW,CAAEG,SAAS,CAACJ,UAAU,CACjCE,WAAW,CAAE,IACjB,CAAC,CAAC,CAAC,CAEHK,MAAM,CAACC,UAAU,CAAC,IAAM,CACpBT,aAAa,CAAEK,SAAS,GAAM,CAC1B,GAAGA,SAAS,CACZF,WAAW,CAAE,KAAK,CAClBF,UAAU,CAAEM,MAChB,CAAC,CAAC,CAAC,CACP,CAAC,CAAET,UAAU,CAAC,CAClB,CAAC,CACD,CAACA,UAAU,CACf,CAAC,CAED,KAAM,CAAAY,aAAa,CAAGxB,MAAM,CAAC,IAAI,CAAC,CAClC,KAAM,CAAAyB,YAAY,CAAGzB,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAA0B,MAAM,CAAG1B,MAAM,CAAC,CAAC,CAAC,CAExB,KAAM,CAAA2B,WAAW,CAAGA,CAAA,GAAM,CACtBH,aAAa,CAACI,OAAO,CAAGC,SAAS,CACjCJ,YAAY,CAACG,OAAO,CAAG,IAAI,CAC3BF,MAAM,CAACE,OAAO,CAAG,CAAC,CACtB,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAGA,CAAA,GAAM,CAC9B,GAAIJ,MAAM,CAACE,OAAO,CAAG,EAAE,EAAIf,UAAU,CAACE,UAAU,CAAGJ,UAAU,CAACoB,MAAM,CAAG,CAAC,CAAE,CACtEX,gBAAgB,CAACP,UAAU,CAACE,UAAU,CAAG,CAAC,CAAC,CAC/C,CAAC,IAAM,IAAIW,MAAM,CAACE,OAAO,CAAG,CAAC,EAAE,EAAIf,UAAU,CAACE,UAAU,CAAG,CAAC,CAAE,CAC1DK,gBAAgB,CAACP,UAAU,CAACE,UAAU,CAAG,CAAC,CAAC,CAC/C,CAEAO,MAAM,CAACC,UAAU,CAACI,WAAW,CAAE,EAAE,CAAC,CACtC,CAAC,CAED,KAAM,CAAAK,iBAAiB,CAAIC,CAAC,EAAK,CAC7B,GAAIR,YAAY,CAACG,OAAO,CAAE,CACtB,GAAIJ,aAAa,CAACI,OAAO,CAAE,CACvBM,YAAY,CAACV,aAAa,CAACI,OAAO,CAAC,CACvC,CACAJ,aAAa,CAACI,OAAO,CAAGN,MAAM,CAACC,UAAU,CAACO,mBAAmB,CAAE,EAAE,CAAC,CAElE,GAAIG,CAAC,CAACE,IAAI,GAAK,OAAO,CAAE,CACpBT,MAAM,CAACE,OAAO,EAAIK,CAAC,CAACP,MAAM,CAC9B,CAAC,IAAM,KAAAU,iBAAA,CACHV,MAAM,CAACE,OAAO,EAAIK,CAAC,CAACI,aAAa,CAAC,CAAC,CAAC,CAACC,OAAO,EAAI,EAAAF,iBAAA,CAAAH,CAAC,CAACI,aAAa,CAAC,CAAC,CAAC,UAAAD,iBAAA,iBAAlBA,iBAAA,CAAoBE,OAAO,GAAI,CAAC,CAAC,CACrF,CACJ,CACJ,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,CACfC,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAAM,CACdC,QAAQ,CAAE,OACd,CAAC,CAED,mBACIlC,KAAA,CAACP,GAAG,EACA0C,GAAG,CAAEzB,YAAa,CAClB0B,EAAE,CAAE,CAAEC,kBAAkB,CAAE,MAAO,CAAE,CACnCC,OAAO,CAAEd,iBAAkB,CAC3Be,WAAW,CAAEf,iBAAkB,CAAAgB,QAAA,eAE/B1C,IAAA,CAACF,MAAM,EAAC6C,WAAW,CAAC,UAAU,CAC1BlB,MAAM,CAAEpB,UAAU,CAACoB,MAAO,CAC1BmB,OAAO,CAAErC,UAAU,CAACE,UAAW,CAC/BoC,YAAY,CAAE/B,gBAAiB,CAClC,CAAC,cACFd,IAAA,CAACH,MAAM,EACH8C,WAAW,CAAC,UAAU,CACtBlB,MAAM,CAAEpB,UAAU,CAACoB,MAAO,CAC1BmB,OAAO,CAAErC,UAAU,CAACE,UAAW,CAC/BoC,YAAY,CAAE/B,gBAAiB,CAClC,CAAC,cAEFd,IAAA,CAACJ,KAAK,EAACkD,SAAS,CAAC,IAAI,CAACC,EAAE,CAAE,CAACxC,UAAU,CAACI,WAAY,CAACqC,OAAO,CAAE1C,UAAW,CAAAoC,QAAA,cACnE1C,IAAA,CAACL,GAAG,EAAC2C,EAAE,CAAE,CAAE,GAAGL,UAAU,CAAEgB,MAAM,CAAE,CAAE,CAAE,CAAAP,QAAA,CACjCrC,UAAU,CAACE,UAAU,CAACE,UAAU,CAAC,CACjC,CAAC,CACH,CAAC,EACP,CAAC,CAEd,CAAC,CAED,cAAe,CAAAN,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}