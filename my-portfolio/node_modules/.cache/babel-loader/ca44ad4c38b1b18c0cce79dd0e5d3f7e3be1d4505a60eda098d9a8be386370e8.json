{"ast":null,"code":"var _jsxFileName = \"/Users/heewonkim/Desktop/portfolio/my-portfolio/src/components/Home/Slides.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Box, Slide } from '@mui/material';\nimport NavBar from './Slides/NavBar';\nimport Header from '../Header/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Slides = props => {\n  _s();\n  const {\n    components\n  } = props;\n  const transSpeed = 500;\n  const [slideState, setSlideState] = useState({\n    currentIdx: 0,\n    previousIdx: 0,\n    isSwitching: false\n  });\n  const [allSkillsRead, setAllSkillsRead] = useState(false); // Track whether all skills are read\n\n  const containerRef = useRef(null);\n  useEffect(() => {\n    setSlideState(prevState => ({\n      ...prevState,\n      currentIdx: 0,\n      previousIdx: 0\n    }));\n    setAllSkillsRead(false);\n  }, [components]);\n  const updateSlideState = useCallback(newIdx => {\n    if (!allSkillsRead) {\n      // Don't allow transition if not all skills are read\n      return;\n    }\n    setSlideState(prevState => ({\n      ...prevState,\n      previousIdx: prevState.currentIdx,\n      isSwitching: true\n    }));\n    window.setTimeout(() => {\n      setSlideState(prevState => ({\n        ...prevState,\n        isSwitching: false,\n        currentIdx: newIdx\n      }));\n    }, transSpeed);\n  }, [transSpeed, allSkillsRead]);\n  const scrollTimeout = useRef(null);\n  const acceptScroll = useRef(true);\n  const deltaY = useRef(0);\n  const resetScroll = () => {\n    scrollTimeout.current = undefined;\n    acceptScroll.current = true;\n    deltaY.current = 0;\n  };\n  const handleScrollTimeout = () => {\n    if (deltaY.current > 50 && slideState.currentIdx < components.length - 1) {\n      updateSlideState(slideState.currentIdx + 1);\n    } else if (deltaY.current < -50 && slideState.currentIdx > 0) {\n      updateSlideState(slideState.currentIdx - 1);\n    }\n    window.setTimeout(resetScroll, 40);\n  };\n  const handleScrollEvent = e => {\n    if (acceptScroll.current) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      scrollTimeout.current = window.setTimeout(handleScrollTimeout, 40);\n      if (e.type === 'wheel') {\n        deltaY.current += e.deltaY;\n      } else {\n        var _e$targetTouches$;\n        deltaY.current += e.targetTouches[0].clientY - (((_e$targetTouches$ = e.targetTouches[1]) === null || _e$targetTouches$ === void 0 ? void 0 : _e$targetTouches$.clientY) || 0);\n      }\n\n      // Check if the user has scrolled through all the skills\n      if (containerRef.current) {\n        const containerHeight = containerRef.current.clientHeight;\n        const scrollHeight = containerRef.current.scrollHeight;\n        const scrollTop = containerRef.current.scrollTop;\n        if (scrollHeight - scrollTop <= containerHeight + 10) {\n          // Allow transition when the user has scrolled through all the skills\n          setAllSkillsRead(true);\n        }\n      }\n    }\n  };\n  const slideStyle = {\n    width: '100%',\n    height: '100%',\n    position: 'fixed'\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    ref: containerRef,\n    sx: {\n      overscrollBehavior: 'none'\n    },\n    onWheel: handleScrollEvent,\n    onTouchMove: handleScrollEvent,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      orientation: \"vertical\",\n      length: components.length,\n      currIdx: slideState.currentIdx,\n      clickHandler: updateSlideState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NavBar, {\n      orientation: \"vertical\",\n      length: components.length,\n      currIdx: slideState.currentIdx,\n      clickHandler: updateSlideState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Slide, {\n      direction: \"up\",\n      in: !slideState.isSwitching,\n      timeout: transSpeed,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ...slideStyle,\n          zIndex: 2\n        },\n        children: components[slideState.currentIdx]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n};\n_s(Slides, \"C0xhQXNToaquCN+N+GZ3bfgrR4c=\");\n_c = Slides;\nexport default Slides;\nvar _c;\n$RefreshReg$(_c, \"Slides\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Box","Slide","NavBar","Header","jsxDEV","_jsxDEV","Slides","props","_s","components","transSpeed","slideState","setSlideState","currentIdx","previousIdx","isSwitching","allSkillsRead","setAllSkillsRead","containerRef","prevState","updateSlideState","newIdx","window","setTimeout","scrollTimeout","acceptScroll","deltaY","resetScroll","current","undefined","handleScrollTimeout","length","handleScrollEvent","e","clearTimeout","type","_e$targetTouches$","targetTouches","clientY","containerHeight","clientHeight","scrollHeight","scrollTop","slideStyle","width","height","position","ref","sx","overscrollBehavior","onWheel","onTouchMove","children","orientation","currIdx","clickHandler","fileName","_jsxFileName","lineNumber","columnNumber","direction","in","timeout","zIndex","_c","$RefreshReg$"],"sources":["/Users/heewonkim/Desktop/portfolio/my-portfolio/src/components/Home/Slides.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Box, Slide } from '@mui/material';\nimport NavBar from './Slides/NavBar';\nimport Header from '../Header/Header';\n\nconst Slides = (props) => {\n    const { components } = props;\n    const transSpeed = 500;\n\n    const [slideState, setSlideState] = useState({\n        currentIdx: 0,\n        previousIdx: 0,\n        isSwitching: false,\n    });\n\n    const [allSkillsRead, setAllSkillsRead] = useState(false); // Track whether all skills are read\n\n    const containerRef = useRef(null);\n\n    useEffect(() => {\n        setSlideState((prevState) => ({\n            ...prevState,\n            currentIdx: 0,\n            previousIdx: 0,\n        }));\n        setAllSkillsRead(false);\n    }, [components]);\n\n    const updateSlideState = useCallback(\n        (newIdx) => {\n            if (!allSkillsRead) {\n                // Don't allow transition if not all skills are read\n                return;\n            }\n\n            setSlideState((prevState) => ({\n                ...prevState,\n                previousIdx: prevState.currentIdx,\n                isSwitching: true,\n            }));\n\n            window.setTimeout(() => {\n                setSlideState((prevState) => ({\n                    ...prevState,\n                    isSwitching: false,\n                    currentIdx: newIdx,\n                }));\n            }, transSpeed);\n        },\n        [transSpeed, allSkillsRead]\n    );\n\n    const scrollTimeout = useRef(null);\n    const acceptScroll = useRef(true);\n    const deltaY = useRef(0);\n\n    const resetScroll = () => {\n        scrollTimeout.current = undefined;\n        acceptScroll.current = true;\n        deltaY.current = 0;\n    };\n\n    const handleScrollTimeout = () => {\n        if (deltaY.current > 50 && slideState.currentIdx < components.length - 1) {\n            updateSlideState(slideState.currentIdx + 1);\n        } else if (deltaY.current < -50 && slideState.currentIdx > 0) {\n            updateSlideState(slideState.currentIdx - 1);\n        }\n\n        window.setTimeout(resetScroll, 40);\n    };\n\n    const handleScrollEvent = (e) => {\n        if (acceptScroll.current) {\n            if (scrollTimeout.current) {\n                clearTimeout(scrollTimeout.current);\n            }\n            scrollTimeout.current = window.setTimeout(handleScrollTimeout, 40);\n\n            if (e.type === 'wheel') {\n                deltaY.current += e.deltaY;\n            } else {\n                deltaY.current += e.targetTouches[0].clientY - (e.targetTouches[1]?.clientY || 0);\n            }\n\n            // Check if the user has scrolled through all the skills\n            if (containerRef.current) {\n                const containerHeight = containerRef.current.clientHeight;\n                const scrollHeight = containerRef.current.scrollHeight;\n                const scrollTop = containerRef.current.scrollTop;\n\n                if (scrollHeight - scrollTop <= containerHeight + 10) {\n                    // Allow transition when the user has scrolled through all the skills\n                    setAllSkillsRead(true);\n                }\n            }\n        }\n    };\n\n    const slideStyle = {\n        width: '100%',\n        height: '100%',\n        position: 'fixed',\n    };\n\n    return (\n        <Box\n            ref={containerRef}\n            sx={{ overscrollBehavior: 'none' }}\n            onWheel={handleScrollEvent}\n            onTouchMove={handleScrollEvent}\n        >\n            <Header\n                orientation=\"vertical\"\n                length={components.length}\n                currIdx={slideState.currentIdx}\n                clickHandler={updateSlideState}\n            />\n            <NavBar\n                orientation=\"vertical\"\n                length={components.length}\n                currIdx={slideState.currentIdx}\n                clickHandler={updateSlideState}\n            />\n\n            <Slide direction=\"up\" in={!slideState.isSwitching} timeout={transSpeed}>\n                <Box sx={{ ...slideStyle, zIndex: 2 }}>\n                    {components[slideState.currentIdx]}\n                </Box>\n            </Slide>\n        </Box>\n    );\n};\n\nexport default Slides;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}